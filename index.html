<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Social Media Downloader</title>
  <meta name="description" content="Download videos from supported social platforms (YouTube starter).">
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--accent:#06b6d4;--muted:#9ca3af}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:linear-gradient(180deg,var(--bg),#05060a);color:#fff;min-height:100vh;display:flex;flex-direction:column}
    header{padding:20px;text-align:center;background:linear-gradient(90deg,#061026,#09203a);font-weight:700}
    .wrap{max-width:880px;margin:36px auto;padding:24px;background:rgba(255,255,255,0.02);border-radius:12px}
    .title{font-size:20px;margin-bottom:6px}
    .lead{color:var(--muted);margin-bottom:18px}
    .input-row{display:flex;gap:12px}
    input[type=text]{flex:1;padding:12px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:#fff;font-size:16px}
    button.primary{padding:12px 16px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent),#10b981);color:#022;cursor:pointer;font-weight:700}
    .examples{margin-top:12px;color:var(--muted);font-size:14px}
    .result{margin-top:18px}
    .card{padding:12px;border-radius:8px;background:rgba(255,255,255,0.02)}
    footer{margin-top:auto;padding:18px;text-align:center}
    .join-btn{display:inline-block;background:#25D366;color:#003300;padding:12px 20px;border-radius:999px;text-decoration:none;font-weight:800}
    .small{font-size:13px;color:var(--muted)}
    @media (max-width:600px){.input-row{flex-direction:column}}
  </style>
</head>
<body>
  <header>Social Media Downloader</header>

  <main class="wrap">
    <div class="title">Paste a video URL to download</div>
    <div class="lead">Supports YouTube out-of-the-box via a free API. (Other platforms coming when you upgrade to a backend.)</div>

    <div class="input-row">
      <input id="urlInput" type="text" placeholder="Paste YouTube, TikTok, Instagram, Facebook or X link here...">
      <button class="primary" id="downloadBtn">Download</button>
    </div>

    <div class="examples small">Examples: <span class="small">https://www.youtube.com/watch?v=dQw4w9WgXcQ</span></div>

    <div id="result" class="result"></div>

    <div style="margin-top:18px;color:var(--muted);font-size:13px">
      Note: This site uses a free public endpoint for YouTube only. If the API rate-limits or fails, you'll need to upgrade to a custom backend (instructions below).
    </div>
  </main>

  <footer>
    <a class="join-btn" id="joinBtn" target="_blank" rel="noopener noreferrer" href="https://whatsapp.com/channel/0029VbAR0pNIXnloIiBHnE1z">JOIN OUR CHANNEL</a>
    <div class="small" style="margin-top:8px">Made with ❤️ — Edit the code to connect your own downloader API</div>
  </footer>

  <script>
    // --- Utility functions ---
    function el(id){return document.getElementById(id)}
    function sanitize(s){return (s||'').trim()}

    // --- Main download handler (Option A: Free & Fast) ---
    async function downloadHandler(){
      const url = sanitize(el('urlInput').value);
      const result = el('result');
      result.innerHTML = '';
      if(!url){ alert('Please paste a video link'); return; }

      // Basic platform detection (very coarse)
      const isYouTube = /youtube\.com|youtu\.be/.test(url);
      const isTikTok = /tiktok\.com/.test(url);
      const isInsta = /instagram\.com|instagr\.am/.test(url);
      const isX = /twitter\.com|x\.com/.test(url);
      const isFb = /facebook\.com/.test(url);

      // If YouTube: use free public API (example: vevioz or similar)
      if(isYouTube){
        result.innerHTML = '<div class="card">Getting download link for YouTube... Please wait.</div>';

        try{
          // Redirect to a public downloader page (simple approach)
          // NOTE: You can replace below with any working endpoint you have.
          const target = 'https://api.vevioz.com/api/button/mp4?url=' + encodeURIComponent(url);
          // Open in new tab so user can choose quality/download
          window.open(target, '_blank', 'noopener');
          result.innerHTML = '<div class="card">Opened downloader in a new tab. If it did not open, <a href="'+target+'" target="_blank">click here</a>.</div>';
        }catch(err){
          console.error(err);
          result.innerHTML = '<div class="card">Failed to open downloader. Try again later.</div>';
        }
        return;
      }

      // Non-YouTube platforms: provide helpful fallback links (these are quick public services — replace when you have a backend)
      result.innerHTML = '<div class="card">Platform not fully supported by the free frontend. Try one of the quick tools below or upgrade to a backend for full support:<ul>' +
        (isTikTok ? '<li><a href="https://snaptik.app/" target="_blank">Open SnapTik (TikTok downloader)</a></li>':'') +
        (isInsta ? '<li><a href="https://downloadgram.com/" target="_blank">Open DownloadGram (Instagram)</a></li>':'') +
        (isFb ? '<li><a href="https://getfvid.com/" target="_blank">Open Getfvid (Facebook)</a></li>':'') +
        (isX ? '<li><a href="https://twdown.net/" target="_blank">Open twdown (Twitter / X)</a></li>':'') +
        '<li>If nothing appears — try pasting a YouTube link or upgrade to a backend later.</li></ul></div>';
    }

    // Attach handler
    el('downloadBtn').addEventListener('click', downloadHandler);

    // Allow enter key
    el('urlInput').addEventListener('keydown', function(e){ if(e.key === 'Enter') downloadHandler(); });

    // Optional: open WhatsApp channel and attempt to close the tab (NOTE: window.close() only works on tabs opened by script)
    // We will not auto-close here because browsers block closing top-level tabs that were not opened by script.
  </script>
</body>
    </html>
